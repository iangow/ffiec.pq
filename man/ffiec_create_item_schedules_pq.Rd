% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ffiec_create_item_schedules_pq.R
\name{ffiec_create_item_schedules_pq}
\alias{ffiec_create_item_schedules_pq}
\title{Create FFIEC item–schedule coverage Parquet file}
\usage{
ffiec_create_item_schedules_pq(
  data_dir = NULL,
  schema = "ffiec",
  schedules = NULL,
  overwrite = FALSE,
  file_name = "ffiec_item_schedules.parquet"
)
}
\arguments{
\item{data_dir}{Optional parent directory for Parquet output. If provided
and \code{schema} is not \code{NULL}, files are written under
\code{file.path(data_dir, schema)}. If \code{NULL}, the environment
variable \code{DATA_DIR} is used.}

\item{schema}{Schema name used to resolve the Parquet directory
(default \code{"ffiec"}).}

\item{schedules}{Optional character vector of schedules to include
(e.g., \code{c("rc", "rcn")}). If \code{NULL}, all schedules are included
except \code{"por"} and \code{"items"}.}

\item{overwrite}{Logical; whether to overwrite an existing output file.}

\item{file_name}{Output Parquet file name
(default \code{"ffiec_item_schedules.parquet"}).}
}
\value{
A tibble with one row describing the file written, including its
file name and full path.
}
\description{
Scans FFIEC schedule Parquet files and creates a Parquet file describing
which items (columns) appear in which schedules and on which reporting
dates. Dates are inferred from Parquet file names.
}
\details{
The resulting file summarizes item availability across all matching
schedule Parquet files and is intended for downstream metadata inspection
and cross-language use (e.g., Python, DuckDB).


Parquet files are located using the same directory-resolution rules as
[ffiec_list_pqs()]. Only files whose names end in \code{_YYYYMMDD.parquet}
are considered. The identifier \code{"IDRSSD"} is excluded from the output.
}
\examples{
\dontrun{
# Create item–schedule coverage using DATA_DIR/ffiec
ffiec_create_item_schedules_pq()

# Restrict to selected schedules
ffiec_create_item_schedules_pq(schedules = c("rc", "rcn"))
}

}
